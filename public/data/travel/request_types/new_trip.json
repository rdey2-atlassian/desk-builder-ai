{
  "key": "new_trip",
  "name": "Request a New Trip",
  "fields": [
    {
      "id": "origin",
      "label": "Origin",
      "type": "text",
      "required": true
    },
    {
      "id": "destination",
      "label": "Destination",
      "type": "text",
      "required": true
    },
    {
      "id": "depart",
      "label": "Depart Date",
      "type": "date",
      "required": true
    },
    {
      "id": "return",
      "label": "Return Date",
      "type": "date",
      "required": true
    },
    {
      "id": "purpose",
      "label": "Purpose",
      "type": "textarea",
      "required": true
    },
    {
      "id": "cost_center",
      "label": "Cost Center",
      "type": "text",
      "required": true
    },
    {
      "id": "traveler_level",
      "label": "Traveler Level",
      "type": "select",
      "options": ["L6", "L7", "L8"],
      "required": true
    },
    {
      "id": "class",
      "label": "Requested Class",
      "type": "select",
      "options": ["Y", "W", "J"],
      "required": true,
      "policy_hint": "Class allowed depends on level"
    },
    {
      "id": "visa_needed",
      "label": "Visa needed?",
      "type": "boolean"
    },
    {
      "id": "preferred_airline",
      "label": "Preferred Airline",
      "type": "text"
    },
    {
      "id": "preferred_hotel",
      "label": "Preferred Hotel",
      "type": "text"
    },
    {
      "id": "manager",
      "label": "Manager (from Okta)",
      "type": "text",
      "readonly": true
    }
  ],
  "routing": {
    "queue": "Travel Desk",
    "vip_group": "Execs"
  },
  "approvals": [
    {
      "if": "class=='J' || class=='W' || budget>150000",
      "then": "manager_approval"
    }
  ],
  "escalations": [
    {
      "if": "hours_to_departure<48",
      "then": "priority=P1; notify:'#travel-hotline'"
    }
  ]
}
